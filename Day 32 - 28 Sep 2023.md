# Docker

- used for containerisation
- sudo systemctl start docker
- sudo docker ps
- folder structure:
	- app.py : main application
	- Dockerfile: containsÂ a script of instructions
	- requirements: contains dependencies, libraries needed for supporting the app.py
- installing azure cli: `curl -sL https://aka.ms/InstallAzureCLIDeb | sudo bash`
- azure cli commands:
	- login to azure through cli: `azure login` or `az login -u [emailId] -p [password]`
	- `az group create --name RG_shell_28Sep --location eastus`
	- `az acr create --name [acr_name] --resource-group RG_shell --location eastus --sku Standard`
	- `sudo docker login [acr_name].azurecr.io`
	- `sudo docker tag [local image tag name] [acr_name].azurecr.io/[image tag name for azure]:[version]`
	- `sudo docker push [acr_name].azurecr.io/[image tag name for azure]:[version]`

- Docker : for container
- Azure ACR: for storing container
- Kubernetes: for running containers
- steps for pushing docker image to azure:
	- az login
	- create az rg
	- create az acr
	- enable admin user in acr through azure portal
	- az acr login
	- create docker tag
	- push docker
- **Kuberbetes**:
	- pods : working units of kubernetes
- under docker project folder:
	- make a folder named Kubernetes
	- under Kubernetes folder make two files deployment.yaml and service.yaml
	- kubectl apply -f Kubernetes/deployment.yaml
	- kubectl apply -f Kubernetes/service.yaml
	- Attaching AKS with ACR : `az aks update -n myAKSCluster -g myResourceGroup --attach-acr <acr-name>`
	- `az aks get-credentials -g myResourceGroup -n myAKSCluster`
	- 